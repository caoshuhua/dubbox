<!DOCTYPE html>
<html lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>美邦开放API</title>
<link href="./css/common.css" rel="stylesheet">
<link href="./css/doc.css" rel="stylesheet">
<link type="text/css" rel="stylesheet" href="./css/extension_3_1.css">
<script src="./js/jquery.min.js"></script>
<script src="./js/common.js"></script>
<script src="./js/sidebar.js"></script>
<script src="./js/core2.js"></script>
<script src="./js/jquery.i18n.properties-min-1.0.9.js"></script>
<script src="./js/i18n.js"></script>
<script src="./js/extension_3_1.js" charset="utf-8"></script>
</head>
<body>
	<div class="middle_wrap">
		


<div class="header">
	<div class="header_main clearfix">
		<a href="#" class="logo"></a>
		
		<ul class="head_nav fwr fr J_head_nav">
			<li>
				<a href="../index.html" class="nav_index black">首页</a>
			</li>
			<li>
				<a href="../api.html" class="nav_api black">API</a>
			</li>
			<li>
				<a href="../doc/index.html" class="nav_doc black curr">文档中心</a>
			</li>
		</ul>
	</div>
	<div class="header_language white">
	</div>
</div>

<script type="text/html" id="searchList_tmp">
	{#item}<li>{$value}</li>{#/item}
</script>
		<div class="middle_main">
			<div class="crumb mt20">
				<a href="../index.html">首页</a> &gt; 
				<a href="../doc/index.html">文档中心</a> &gt;
				<span>SDK下载</span>
			</div>
			<div class="clearfix mt10">
				

<div class="w_box240 fl">
	<input type="hidden" id="id" value="20">
	
		<ul class="submenu_side J_LeftNav">
			<li class="parent opened">
				<a href="javascript:void(0);" class="parent_tit J_parent_tit">平台介绍</a>
				<ul class="children J_ul_1st">
					
						
							
								<li class="child">
									<a class="child_link J_child_tit" href="./2.html" id="doc2">
										平台简介
									</a>
								</li>
							
							
						
					
						
							
								<li class="child">
									<a class="child_link J_child_tit" href="./3.html" id="doc3">
										开放业务
									</a>
								</li>
							
							
						
					
				</ul>
			</li>
		</ul>
	
		<ul class="submenu_side J_LeftNav">
			<li class="parent opened">
				<a href="javascript:void(0);" class="parent_tit J_parent_tit">业务接入</a>
				<ul class="children J_ul_1st">
					
						
							
								<li class="child">
									<a class="child_link J_child_tit" href="./5.html" id="doc5">
										接入指南
									</a>
								</li>
							
							
							
								<li class="child">
									<a class="child_link J_child_tit" href="./7.html" id="doc7">
										供应商接入说明
									</a>
								</li>
							
						
					
				</ul>
			</li>
		</ul>
	
		<ul class="submenu_side J_LeftNav">
			<li class="parent opened">
				<a href="javascript:void(0);" class="parent_tit J_parent_tit curr">开发文档</a>
				<ul class="children J_ul_1st">
					
							
								<li class="child">
									<a class="child_link J_child_tit curr" href="./8.html" id="doc8">
										开发规范
									</a>
								</li>
							
							
						
					
						
							
							
								<li class="child">
									<a class="child_link J_child_tit" href="./14.html" id="doc14">
										错误码一览表
									</a>
								</li>
							
							
						
					
						
							
								<li class="child">
									<a class="child_link J_child_tit" href="./30.html" id="doc30">
										沙箱环境操作手册
									</a>
								</li>
							
							
						
					
						
							
								<li class="child">
									<a class="child_link J_child_tit" href="./33.html" id="doc33">
										授权流程说明
									</a>
								</li>
							
							
						
					
				</ul>
			</li>
		</ul>
	
	
		<ul class="submenu_side J_LeftNav">
			<li class="parent opened">
				<a href="javascript:void(0);" class="parent_tit J_parent_tit">常用工具</a>
				<ul class="children J_ul_1st">
					
						
							
								<li class="child">
									<a class="child_link J_child_tit" href="./20.html" id="doc20">
										SDK下载
									</a>
								</li>
							
							
						
					
				</ul>
			</li>
		</ul>
	
		<ul class="submenu_side J_LeftNav">
			<li class="parent opened">
				<a href="javascript:void(0);" class="parent_tit J_parent_tit">帮助中心</a>
				<ul class="children J_ul_1st">
					
							
								<li class="child">
									<a class="child_link J_child_tit" href="./21.html" id="doc21">
										联系我们
									</a>
								</li>
							
						
					
				</ul>
			</li>
		</ul>
	
</div>
<script type="text/javascript">
		$.Loader
            .advScript( {
                name : 'index',
                url : '/js/doc/doc.js'
            });
</script>
				<div class="w_box700 fr">
					<h3 class="api_title">开发规范</h3>
					<div class="document_box">
						<div class="document_content"><h1>导航</h1><p><a href="#A1">一、调用介绍</a></p><p><a href="#A2">二、调用环境入口</a></p><p><a href="#A3">三、调用参数</a></p><p><a href="#A4">四、API签名</a></p><p><a href="#A5">五、拼装HTTP请求</a></p><p><a href="#A6">六、API调用注意事项</a></p><p><a href="#A7">七、API调用示例</a></p><p><a id="A1"></a></p><h1>一、调用介绍</h1><p>VOP作为唯品会开放平台的数据出口，用户只需要按照VOP的规范拼装一个正确的请求URL，通过HTTP请求到VOP，即能获取到所需的数据。</p><p><a id="A2"></a></p><h1>二、调用环境入口</h1><p>环境入口释义：调用API时，需要传入如下地址，获取相应环境下的数据。</p><p>沙箱环境入口地址： http://sandbox.vipapis.com</p><p>正式环境入口地址：http://gw. vipapis.com</p><p><a id="A3"></a></p><h1>三、调用参数</h1><p>调用API时，必须传入系统级参数和对应的应用级参数。各个API的输入参数和返回结果详见API文档</p><h2>系统级参数（必须以GET方式提交）：</h2>
<table>
	<thead>
		<tr>
			<th>名称</th>
			<th>类型</th>
			<th>是否必须</th>
			<th>描述</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>service</td>
			<td>String</td>
			<td>是</td>
			<td>服务名称</td>
		</tr>
		<tr>
			<td>method</td>
			<td>String</td>
			<td>是</td>
			<td>方法名称</td>
		</tr>
		<tr>
			<td>version</td>
			<td>String</td>
			<td>是</td>
			<td>版本号</td>
		</tr>
		<tr>
			<td>timestamp</td>
			<td>Integer</td>
			<td>是</td>
			<td>调用时间戳，Epoch格式，系统接受的时间差不超过10分钟</td>
		</tr>
		<tr>
			<td>format</td>
			<td>String</td>
			<td>是</td>
			<td>报文格式 xml/json</td>
		</tr>
		<tr>
			<td>appKey</td>
			<td>String</td>
			<td>是</td>
			<td>应用ID，唯品会开放平台分配给应用的唯一标识</td>
		</tr>
		<tr>
			<td>sign</td>
			<td>String</td>
			<td>是</td>
			<td>根据签名算法的签名运算结果</td>
		</tr>
	</tbody>
</table><h2>应用级参数示例（必须以POST方式提交）：</h2>
<table>
	<thead>
		<tr>
			<th>名称</th>
			<th>类型</th>
			<th>是否必须</th>
			<th>示例值</th>
			<th>默认值</th>
			<th>描述</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>id</td>
			<td>Integer</td>
			<td>是</td>
			<td>1234</td>
			<td></td>
			<td>整数值</td>
		</tr>
		<tr>
			<td>start_date</td>
			<td>String</td>
			<td>是</td>
			<td>2014-05-08</td>
			<td></td>
			<td>字符类型</td>
		</tr>
		<tr>
			<td>warehouse</td>
			<td>Warehouse</td>
			<td>是</td>
			<td>Warehouse.VIP_NH</td>
			<td></td>
			<td>枚举类型</td>
		</tr>
		<tr>
			<td>nav_category_id1</td>
			<td>List&lt;String&gt;</td>
			<td>否</td>
			<td>["123"]</td>
			<td></td>
			<td>List类型</td>
		</tr>
	</tbody>
</table><h2>如下为VOP应用级参数拼装示例</h2>
<table>
	<thead>
		<tr>
			<th>描述</th>
			<th>示例</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>标准json 类型</td>
			<td>{<br> "url":"www.vip.com",<br> "start_time":"2014-06-10 14:53:21",<br> "hashcode":"abcdefg" <br> }
			</td>
		</tr>
		<tr>
			<td>标准xml 类型</td>
			<td><br>&lt;request&gt; &lt;url&gt;www.vip.com&lt;/url&gt; &lt;start_time&gt;2014-06-10 14:53:21&lt;/start_time&gt; &lt;hashcode&gt;abcdefg&lt;/hashcode&gt;&lt;/request&gt; <br></td>
		</tr>
	</tbody>
</table><p><a id="A4"></a></p><h1>四、API签名</h1><p>调用API时需要对请求参数进行签名，VOP服务器端会验证请求参数是否合法。 也可以通过签名验证工具进行验证<br/><a href="http://vop.vip.com/doccenter/viewdoc/sign">签名验证工具</a></p><h2>签名算法：</h2><p>第1步、对除appSecret外的所有系统级参数进行按照首字母先后顺序排列<br>例如：将service,method,version,timestamp,format,appKey排序为appKey,format,method,service,timestamp,version</p><p>第2步、 把排序后的结果按照参数名+参数值的方式拼接后再拼接上应用级参数<br>例如：appKeyXXXXformatXXXXmethodXXXXserviceXXXXtimestampXXXXversionXXXXYYYY,其中YYYY是应用级参数</p><p>第3步、 以appSecret作为秘钥对拼装好的字符串进行hmac-md5加密<br>例如：hmac-md5(appKeyXXXXformatXXXXmethodXXXXserviceXXXXtimestampXXXXversionXXXXYYYY,appSecret)<br>得到结果：2CA5D80723A40B59E095A4D675D46449 ---字母要大写</p><h2>示例（以下示例只体现逻辑）</h2><p>调用com.vip.ospserver.api.OtherService，假设appKey=yourappKey、appSecret=yourappSecret</p><p>1)系统级输入参数：</p><p>service=com.vip.ospserver.api.OtherService<br> method=getPopReplaceIntoAfterSaleAddress<br> version=1.0.0<br> timestamp=1406851200<br> format=json<br> appSecret=yourappsecret<br> appKey=yourappkey<br></p><p>2)应用级输入参数：</p><p>{<br>  "url":"www.vip.com",<br>  "start_time":"2014-06-10 14:53:21",<br>  "hashcode":"abcdefg" <br> }</p><p>3)把除appSecret外的所有系统级参数按照字母顺序排列</p><p>appKey=1<br> format=json<br> method=getPopReplaceIntoAfterSaleAddress<br> service=com.vip.ospserver.api.OtherService<br> timestamp=1406851200<br> version=1.0.0<br></p><p>4)把排序后的系统级参数按照参数名+参数值连接起来，并把应用级参数值放在最后，形成最终的拼接字符串</p><p>appKey1formatjsonmethodgetPopReplaceIntoAfterSaleAddressservicecom.vip.ospserver.api.OtherServicetimestamp1406851200 version1.0.0{"url":"www.vip.com","start_time":"2014-06-10 14:53:21","hashcode":"abcdefg"}</p><p>5)以appSecret作为秘钥对上述拼装好的字符串进行hmac-md5加密，得到签名结果：</p><p>2CA5D80723A40B59E095A4D675D46449</p><p><a id="A5"></a></p><h1>五、拼装HTTP请求</h1><p>调用API时，将所有的系统级参数转换成UTF-8编码，以GET方式提交，应用级参数以POST方式提交，提交到正式（或沙箱）环境入口地址，就可以获取接口返回的数据。</p><p><a id="A6"></a></p><h1>六、API调用注意事项</h1><p>• 所有的API请求和响应数据编码皆为UTF-8格式，URL里的所有参数值请做urlencode编码</p><p>• API请求的应用级参数需要转换成xml或json格式</p><p>• 返回结果格式与你选择的请求格式一致</p><p>• 签名方式为 hmac-md5(params,appSecret)，其中params是按参数名字母顺序排序后拼接而成的</p><p>• 输入参数请按照规范进行拼接，应用级输入参数不应该出现在系统级参数中</p><p><a id="A7"></a></p><h1>七、API调用示例</h1><p>一个完整的参考示例请下载附件<a href="http://dl.vipstatic.com/vop/doc/testservice.rar">完整的参考示例testservice.zip</a></p></div>
					</div>
				</div>
			</div>
			
			

<!-- <div class="sidebar_block" id="J_sidebar">
	<ul class="sidebar sidebar_panel">
		<li><a class="sidebar_totop_position sidebar_totop_active"
			id="J_toTop" title="返回顶部" href="javascript:;"
			style="width: 42px; height: 34px;"> <em class="sidebar_totop_mt"
				id="J_toTop_padding" data-min_size="[42, 10]"
				style="width: 42px; height: 10px;"></em> <em class="sidebar_totop"></em>
				<span class="sidebar_hide hidden" id="J_toTop_text"
				style="width: 0px; height: 0px;">返回顶部</span>
		</a></li>
	</ul>
	<div id="J_sidebar_carSection"
		class="sidebar_car_special hidden change_arrow shop_bag_special"></div>
	<div id="J_barLikeWin" class="hidden"></div>
</div> -->
<div class="gotop J_toTop hidden" style="position: fixed; bottom: 180px; top: auto;">
		<a title="返回顶部" href="javascript:;">返回顶部</a>
</div>

		</div>
	</div>
	


<div class="footer">
	<div class="footer_list clearfix">
		<dl class="anim first">
			<dt>开发者资源</dt>
			<dd><a href="#">SDK和工具</a></dd>
			<dd><a href="#">API文档</a></dd>
			<dd><a href="#">文档中心</a></dd>
			<dd><a href="https://open.metersbonwe.com/sandbox/">沙箱环境</a></dd>
		</dl>
		<dl class="anim">
			<dt>管理您的账户</dt>
			<dd><a href="#">控制台(敬请期待)</a></dd>
		</dl>
		<dl class="anim">
			<dt>用户支持</dt>
			<dd><a href="#">监控中心(敬请期待)</a></dd>
		</dl>
		<dl class="anim">
			<dt>关于美邦开放API</dt>
			<dd><a href="./doc/index.html">简介</a></dd>
		</dl>
		<div class="follow">
			<p class="dt">关注我们</p>
			<dd>敬请期待</dd>
		</div>
	</div>
	<div class="footer_main">
		<span>&copy; meters<span style="color: red">/</span>bonwe 2016</span>
		<span></span>	</div>
</div>
</body>
</html>